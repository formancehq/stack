services:
  auth:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ serve
    working_dir: /app/components/auth
    volumes:
      - .:/app

  ledger:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ server start
    working_dir: /app/components/ledger
    volumes:
      - .:/app

  payments:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ serve
    working_dir: /app/components/payments
    volumes:
      - .:/app

  search:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ serve
    working_dir: /app/components/search
    volumes:
      - .:/app

  wallets:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ serve
    working_dir: /app/components/wallets
    volumes:
      - .:/app

  webhooks:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ serve
    working_dir: /app/components/webhooks
    volumes:
      - .:/app

  webhooks-worker:
    build:
      context: .
      dockerfile: reflex.Dockerfile
    command: reflex -r \.go$$ -s go run ./ worker
    working_dir: /app/components/webhooks
    volumes:
      - .:/app
