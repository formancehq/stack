on:
  workflow_call:
    inputs:
      GITHUB_EVENT_NAME:
        type: string
        required: true
      GITHUB_EVENT_ACTION:
        type: string
        required: true

name: Ledger
defaults:
  run:
    working-directory: "./services/ledger"
jobs:
  Lint:
    uses: ./.github/workflows/template_lint.yaml
    with:
      PATH: "./services/ledger"

  Test:
    uses: ./.github/workflows/template_tests.yaml
    with:
      PATH: "./services/ledger"

  Build:
    uses: ./.github/workflows/template_goreleaser_build.yaml
    with:
      PATH: "./services/ledger"
    needs:
      - Lint
      - Test
